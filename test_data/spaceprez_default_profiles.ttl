PREFIX altr-ext: <http://www.w3.org/ns/dx/conneg/altr-ext#>
PREFIX dcat: <http://www.w3.org/ns/dcat#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX geo: <http://www.opengis.net/ont/geosparql#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX prez: <https://prez.dev/>
PREFIX prof: <http://www.w3.org/ns/dx/prof/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX shext: <http://example.com/shacl-extension#>


prez:SpacePrezProfile
    a prof:Profile ;
    dcterms:identifier "spaceprez"^^xsd:token ;
    dcterms:description "A system profile for SpacePrez" ;
    skos:prefLabel "SpacePrez profile" ;
    altr-ext:hasDefaultResourceFormat "text/anot+turtle" ;
    altr-ext:constrainsClass prez:SpacePrez ;
    altr-ext:hasNodeShape [
        a sh:NodeShape ;
        sh:targetClass dcat:Dataset ;
        altr-ext:hasDefaultProfile <https://www.w3.org/TR/vocab-dcat/>
    ] , [
        a sh:NodeShape ;
        sh:targetClass geo:FeatureCollection ;
        altr-ext:hasDefaultProfile prez:FeatureCollectionProfile
    ] , [
        a sh:NodeShape ;
        sh:targetClass geo:Feature ;
        altr-ext:hasDefaultProfile prez:FeatureProfile
    ] , [
        a sh:NodeShape ;
        sh:targetClass prez:DatasetList ;
        altr-ext:hasDefaultProfile <https://w3id.org/profile/mem>
    ] , [
        a sh:NodeShape ;
        sh:targetClass prez:FeatureCollectionList ;
        altr-ext:hasDefaultProfile prez:GeoListingProfile
    ] , [
        a sh:NodeShape ;
        sh:targetClass prez:FeatureList ;
        altr-ext:hasDefaultProfile prez:GeoListingProfile
    ]
.

prez:FeatureCollectionProfile a prof:Profile ;
    dcterms:description "A profile for GeoSPARQL FeatureCollections" ;
    dcterms:identifier "geofc"^^xsd:token ;
    dcterms:title "Feature Collection Profile" ;
    altr-ext:constrainsClass geo:FeatureCollection ;
    altr-ext:hasDefaultResourceFormat "text/anot+turtle" ;
    altr-ext:hasResourceFormat
        "application/ld+json" ,
        "application/anot+ld+json" ,
        "application/rdf+xml" ,
        "text/anot+turtle" ,
        "text/turtle" ;
        sh:targetClass geo:FeatureCollection ;
        sh:property
            [
                sh:maxCount 0 ;
                sh:path rdfs:member ;
            ] ,
            [
                sh:path [ sh:inversePath rdfs:member ] ;
            ] ;
        shext:bnode-depth 2 ;
.

prez:FeatureProfile a prof:Profile ;
    dcterms:description "A profile for GeoSPARQL Features" ;
    dcterms:identifier "geofeat"^^xsd:token ;
    dcterms:title "Feature Profile" ;
    altr-ext:constrainsClass geo:Feature ;
    altr-ext:hasDefaultResourceFormat "text/anot+turtle" ;
    altr-ext:hasResourceFormat
        "application/ld+json" ,
        "application/anot+ld+json" ,
        "application/rdf+xml" ,
        "text/anot+turtle" ,
        "text/turtle" ;
        sh:targetClass geo:Feature ;
        sh:property
            [
                sh:path [ sh:inversePath rdfs:member ] ;
            ] ,
            [
                sh:path shext:allPredicateValues ;
            ] ;
        shext:bnode-depth 2 ;
.


prez:GeoListingProfile a prof:Profile ;
    dcterms:description "A profile for listing GeoSPARQL Features and FeatureCollections" ;
    dcterms:identifier "geolisting"^^xsd:token ;
    dcterms:title "Geo Listing Profile" ;
    altr-ext:constrainsClass prez:FeatureCollectionList , prez:FeatureList ;
    altr-ext:hasDefaultResourceFormat "text/anot+turtle" ;
    altr-ext:hasResourceFormat
        "application/ld+json" ,
        "application/anot+ld+json" ,
        "application/rdf+xml" ,
        "text/anot+turtle" ,
        "text/turtle" ;
    sh:property
        [
            sh:path [ sh:inversePath rdfs:member ] ;
        ]
.

<https://www.w3.org/TR/vocab-dcat/>
    a prof:Profile , prez:SpacePrezProfile ;
    dcterms:description "Dataset Catalog Vocabulary (DCAT) is a W3C-authored RDF vocabulary designed to facilitate interoperability between data catalogs" ;
    dcterms:identifier "dcat"^^xsd:token ;
    dcterms:title "DCAT" ;
    altr-ext:constrainsClass
        dcat:Catalog ,
        dcat:Dataset ;
    altr-ext:hasDefaultResourceFormat "text/anot+turtle" ;
    altr-ext:hasResourceFormat
        "application/ld+json" ,
        "application/anot+ld+json" ,
        "application/rdf+xml" ,
        "text/anot+turtle" ,
        "text/turtle" ;
    altr-ext:hasDefaultResourceFormat "text/anot+turtle" ;
    sh:property [
        sh:path shext:allPredicateValues ;
    ] ;
    shext:bnode-depth 2 ;
    altr-ext:constrainsClass dcat:Catalog , dcat:Dataset ;
.

